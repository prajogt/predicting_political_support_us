---
title: "Predicting Political Support in the United States"
subtitle: "The Effects of Culture and Key Political Choices"
author: 
  - Janssen Myer Rambaud
  - Timothius Prajogi
thanks: "Code and data are available at: https://github.com/prajogt/predicting_political_support_us.git ."
date: today
date-format: long
abstract: "Using data gathered from the 2022 Cooperative Election Study (CES), we navigate through the various possible factors that influence a US citizen's voting decision. By examining a representative sample of 60 000 Americans, we can discern patterns in beliefs and personal backgroundsâ€”ranging from gun control and student loan stances to race, religion, and educational background. This paper discusses the impact these individual factors may have towards predicting a voter's alignment, as well as how multiple factors can coalign to portray a more substantial impact. We aim to highlight these correlations and their potential implications with future elections."
format: pdf
toc: true
number-sections: true
bibliography: references.bib
editor: visual
---

```{r}
#| include: false
#| warning: false
#| message: false
#| echo: false

#### Workspace setup ####
library(knitr)
library(tidyverse)
library(modelsummary)
library(rstanarm)

```


# Introduction
include Estimand in here

# Data

These delay statistics were downloaded, cleaned, parsed, analyzed, and visualized using R [@citeR], a statistical programming language, with package support from `tidyverse` [@citetidyverse], a collection of libraries which included the following packages that were utilized: 

* `ggplot2` [@citeggplot] 
* `dplyr` [@citedplyr] 
* `readr` [@citereadr] 
* `tibble` [@citetibble]

The data was retrieved from Harvard's CCES Dataverse database, using the `dataverse` [@citedataverse] package.

In this report we consider data collected from the 2022 CES survey, stored by Dataverse as *Cooperative Election Study Common Content* [@citecesdata].

needs measurement here

```{r}
#| include: false
#| warning: false
#| message: false
#| echo: false

# Load in data
ces2022_1 <- read_csv("data/cleaned_ces2022_1.csv")
ces2022_2 <- read_csv("data/cleaned_ces2022_2.csv")
```


```{r}
ces2022_1 |>
  ggplot(aes(x = education, fill = voted_for)) +
  stat_count(position = "dodge") +
  facet_wrap(facets = vars(gender)) +
  theme_minimal() +
  labs(
    x = "Highest education",
    y = "Number of respondents",
    fill = "Voted for"
  ) +
  coord_flip() +
  scale_fill_brewer(palette = "Set1") +
  theme(legend.position = "bottom")

```


# Model

To create the generalized linear model we made use of the `rstanarm` [@citerstanarm] package.

In particular the models we had created are logistic regression, all prediciting who the participant voted for during the 2020 US Presidential Election.

```{r}
# Load in models
political_preferences_cultural <-
  readRDS(file = "models/political_preferences_cultural.rds")

political_preferences_race <-
  readRDS(file = "models/political_preferences_race.rds")

political_preferences_importances <-
  readRDS(file = "models/political_preferences_importances.rds")
```


The first model that was created was intended to discover whether we can forecast who a respondent was likely to vote for, knowing their cultural background, including their age, gender, race, and religion.

We expect that due to various differences in experiences due to this background, whether it be because of a generational difference, a difference in culture between countries, or a difference in beliefs in religions, a voter who identifies in those demographics would vote differently, voting for the candidate who most undestands their experiences.

The second model only forecasts who the respondent was likely to vote for based on race, to extract how much of the intercept in the previous model can be explained by a different in race.

Finally, the last model aims to forecast a respondents vote knowing their prominent political ideals including education, gun ownership status, and student loan status. These are common political standpoints in the U.S.. Gun policy and student loan forgiveness is often a key political issue that separates the candidates. For the 2020 election, the candidates we are predicting for, Joe Biden and Donald Trump had opposing positions on student loan forgiveness. Whilst Trump was opposed to student loan forgiveness, backing incone-based repayment plans instead [@citetrumploanstance], Biden proposed to forgive a large amount of undergraduate tuition-related student debt [@citeballotpedia]. They also opposed each other on gun laws, with Trump advocating for the right to bear arms and Biden advocating gun safety policies aimed at holding manufacturers accountable [@citeballotpedia]. 

As such, we expect that there would be a strong correlation with the respondents gun ownership and student loan status to the candidate they supported in the 2020 election.

TODO add to refs

https://www.washingtonpost.com/politics/interactive/2023/presidential-candidates-2024-policies-issues/donald-trump-student-loans-education/

https://ballotpedia.org/2020_presidential_candidates_on_student_loan_debt
https://www.rand.org/research/gun-policy/key-findings/gun-policy-in-america.html



```{r}
#| label: tbl-modelsummarycultural
#| tbl-cap: "Explaining whether a voter supported Biden or Trump in 2020 given their gender, age, race, and religion"
#| message: false
#| warning: false
#| echo: false

modelsummary(
  list(
    "Support Biden" = political_preferences_cultural
  ),
  statistic = "mad"
  )

```

```{r}
modelsummary(
  list(
    "Support Biden" = political_preferences_importances
  ),
  statistic = "mad"
  )

```



## Results

## Discussion

Although there seems to be a strong correlation between if a voter
identifies as an other gender to supporting Biden, and a strong correlation
between if a voter identifies as an other race to supporting Biden,
but these must be considered carefully as within the sample (with seed 302), 
only 5 and 1 voters identified in those categories respectively. To get a more
accurate reading in regards to these features, it would be necessary to train
a model which includes much more of these demographics.

## Appendix

```{r}
cm <- c('genderMale' = 'Male',
        'raceWhite' = 'White',
        'raceNative American' = 'Native American', 
        'raceMultiracial' = 'Multiracial',
        'raceMiddle Eastern' = 'Middle Eastern',
        'raceHispanic' = 'Hispanic',
        'raceBlack' = 'Black',
        'raceAsian' = 'Asian',
        'religionNone' = 'Non-Religious',
        'religionProtestant' = 'Protestant',
        'religionAgnostic' = 'Agnostic',
        'religionAtheist' = 'Atheist',
        'religionRoman Catholic' = 'Roman Catholic',
        'religionJewish' = 'Jewish',
        'religionOther' = 'Other'
        )

modelplot(political_preferences_cultural, conf_level = 0.9, coef_map = cm) +
  labs(x = "90 per cent credibility interval")
```

```{r}
modelplot(political_preferences_cultural, 
          conf_level = 0.9, 
          coef_map = c("raceOther" = "Other Race", "genderOther" = "Other Gender (Does not Identify as Male or Female)")) + 
  labs(x = "90 per cent credibility interval")
```



\newpage
## References
